<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dreams | MirageKit</title>
    <meta name="description" content="MirageKit: context compression demos, tropical-compactor MCP, and reproducible memory-safety artifacts." />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="hero">
      <div class="hero-glow hero-glow-a"></div>
      <div class="hero-glow hero-glow-b"></div>
      <p class="kicker">Dreams / MirageKit</p>
      <h1>When context compression looks valid but silently changes the task.</h1>
      <p class="lede">
        A public demo + reproducible artifact set for long-context reliability. Compare naive recency vs
        contract-guarded tropical compaction and inspect memory safety certificates.
      </p>
      <div class="hero-links">
        <a href="../results/VALIDATION_SUMMARY.md">Validation Summary</a>
        <a href="../papers/README.md">Papers</a>
        <a href="../mcp/tropical-compactor/README.md">MCP Implementation</a>
      </div>
    </header>

    <main>
      <section class="panel" id="interactive">
        <div class="panel-head">
          <h2>Interactive Mirage Panel</h2>
          <p>Slide retention budget and compare policy behavior.</p>
        </div>

        <label for="retentionSlider" class="slider-label">Retention: <span id="retentionValue">100%</span></label>
        <input id="retentionSlider" type="range" min="0" max="4" value="0" step="1" />

        <div class="grid-two">
          <article class="card card-recency">
            <h3>Naive Recency</h3>
            <ul>
              <li>Pivot Preservation: <strong id="recencyPivot">-</strong></li>
              <li>Primary Arc Survival: <strong id="recencyPrimary">-</strong></li>
              <li>Decoy Arc Survival: <strong id="recencyDecoy">-</strong></li>
              <li>Contract Satisfied: <strong id="recencyContract">-</strong></li>
            </ul>
          </article>

          <article class="card card-guarded">
            <h3>L2 Guarded</h3>
            <ul>
              <li>Pivot Preservation: <strong id="guardedPivot">-</strong></li>
              <li>Primary Arc Survival: <strong id="guardedPrimary">-</strong></li>
              <li>Decoy Arc Survival: <strong id="guardedDecoy">-</strong></li>
              <li>Contract Satisfied: <strong id="guardedContract">-</strong></li>
            </ul>
          </article>
        </div>

        <p id="deltaText" class="delta"></p>
      </section>

      <section class="panel">
        <div class="panel-head">
          <h2>Deterministic Witness</h2>
          <p>Core claim visualized as an operational diagnosis.</p>
        </div>
        <div class="witness-box">
          <p id="witnessClaim"></p>
          <p>Semantic regret example: <strong id="witnessRegret"></strong></p>
        </div>
      </section>

      <section class="panel">
        <div class="panel-head">
          <h2>Memory Safety Certificate</h2>
          <p>A checkable JSON object you can log per compaction event.</p>
        </div>
        <pre id="certificatePreview" class="certificate"></pre>
      </section>
    </main>

    <footer>
      <p>
        Built for outreach and reproducibility. Source repo includes scripts, tests, papers, and artifacts.
      </p>
    </footer>

    <script src="./app.js" defer></script>
  </body>
</html>
